<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Login</title>
  <%= csrf_meta_tags %>
  <%= csp_meta_tag %>
  <%= stylesheet_link_tag 'login', media: 'all' %> 
  <%= javascript_include_tag 'application', 'data-turbo-track': 'reload' %>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;700&display=swap" rel="stylesheet">
</head>
<body>
  <div class="login-box">
    <% if flash[:alert] %>
  <div id="flash-alert" class="flash-alert">
    <%= flash[:alert] %>
  </div>

  <script>
    setTimeout(() => {
      const alertBox = document.getElementById('flash-alert');
      if (alertBox) {
        alertBox.style.transition = 'opacity 0.5s ease';
        alertBox.style.opacity = '0';
        setTimeout(() => alertBox.remove(), 500);
      }
    }, 3000); 
  </script>
<% end %>
    <h1 class="login-heading">Sign In</h1>

    <%= form_with(url: login_path, method: :post, class: 'login-form') do |form| %>
      <div class="input-group">
        <%= form.label :email, class: 'input-label' %>
        <%= form.text_field :email, required: true, class: 'input-field' %>
      </div>

      <div class="input-group">
        <%= form.label :password, class: 'input-label' %>
        <%= form.password_field :password, required: true, class: 'input-field' %>
      </div>

      <div class="button-container">
        <%= form.submit 'Login', class: 'submit-button' %>
        <%= link_to 'Register', register_path, class: 'register-button' %>
      </div>
    <% end %>

    <%= link_to 'Forgot password?', new_password_reset_path, class: 'forgot-password' %>

  </div>
</body>
</html>
